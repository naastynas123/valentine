<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Valentine ðŸ’˜</title>

<style>
:root{
  --glass: rgba(20,20,20,.45);
  --glass-border: rgba(255,255,255,.18);
  --text: #fff;

  --green: #46c26f;
  --green2:#2fb85c;
  --red: #f04a4a;
  --red2:#e23c3c;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  overflow:hidden;
  background:#000;
}

/* CENTER CARD */
.centerWrap{
  position:fixed; inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:22px;
  z-index:2;
}

.glass{
  width:min(1050px, 95vw);
  min-height: min(560px, 86vh);
  border-radius:28px;
  padding:34px 26px;
  background: var(--glass);
  border:1px solid var(--glass-border);
  backdrop-filter: blur(16px);
  box-shadow: 0 30px 70px rgba(0,0,0,.6);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  gap:18px;
}

h1{
  margin:0;
  font-size: clamp(34px, 5vw, 62px);
  line-height:1.05;
}

/* BUTTON AREA (FIXED SIZE FOR MOVEMENT) */
#noZone{
  position:relative;
  width:100%;
  max-width:600px;
  height:220px; /* movement arena */
  display:flex;
  align-items:center;
  justify-content:center;
  gap:16px;
}

.btn{
  border:0;
  border-radius:999px;
  padding:14px 26px;
  font-weight:900;
  font-size:18px;
  cursor:pointer;
  color:#fff;
  box-shadow: 0 14px 30px rgba(0,0,0,.35);
  transition: transform .12s ease;
  user-select:none;
  min-width:160px;
}

.btn:active{ transform: scale(.95); }

.yes{ background: linear-gradient(180deg, var(--green), var(--green2)); }
.no{ background: linear-gradient(180deg, var(--red), var(--red2)); }
</style>
</head>

<body>

<div class="centerWrap">
<div class="glass">

<!-- PAGE 1 -->
<div id="page1" class="page active">
<h1>Will you be my Valentine Quyen? ðŸ’˜</h1>

<div id="noZone">
<button id="yesBtn" class="btn yes">Yes ðŸ’–</button>
<button id="noBtn" class="btn no">No ðŸ¥º</button>
</div>
</div>

<!-- PAGE 2 -->
<div id="page2" class="page" style="display:none;">
<h1>YAY, 2 valentines down... 98 more to go!! ðŸ’ž</h1>
<div id="envelope" style="margin-top:20px;cursor:pointer;">ðŸ’Œ CLICK ME</div>
</div>

<!-- PAGE 3 -->
<div id="page3" class="page" style="display:none;">
<div id="letter" style="max-width:700px;margin:auto;text-align:left;white-space:pre-wrap;"></div>
</div>

</div>
</div>

<script>

/* PAGE SWITCHING */
const page1 = document.getElementById("page1");
const page2 = document.getElementById("page2");
const page3 = document.getElementById("page3");

function showPage(n){
  page1.style.display="none";
  page2.style.display="none";
  page3.style.display="none";
  if(n===1) page1.style.display="block";
  if(n===2) page2.style.display="block";
  if(n===3) page3.style.display="block";
}

/* YES BUTTON */
document.getElementById("yesBtn").addEventListener("click",()=>{
  showPage(2);
});

/* ENVELOPE */
document.getElementById("envelope").addEventListener("click",()=>{
  showPage(3);
  typeLetter();
});

/* LETTER TYPING */
const letterText = `I can't wait to spend the rest of my life with you pooks.

You've given life a new purpose.
You've given me something to smile about every day.
You've given me a reason to be better every day.

I hope we grow into big back young adults, big back real adults,
and big back parents with our big back children.

I don't know what the future holds for us,
but I know with you by my side, everything will be going right.

Signed,
your tubby mans ðŸ’˜`;

function typeLetter(){
  const letter = document.getElementById("letter");
  letter.textContent="";
  let i=0;
  function type(){
    letter.textContent = letterText.slice(0,i);
    i++;
    if(i<=letterText.length){
      setTimeout(type,20);
    }
  }
  type();
}

/* =============================
   NO BUTTON FIX (ONLY CHANGE)
============================= */

const noBtn  = document.getElementById("noBtn");
const noZone = document.getElementById("noZone");

let armed = false;

function arm(){
  if(armed) return;
  const rect = noBtn.getBoundingClientRect();
  const zone = noZone.getBoundingClientRect();
  noBtn.style.position="absolute";
  noBtn.style.left=(rect.left-zone.left)+"px";
  noBtn.style.top=(rect.top-zone.top)+"px";
  armed=true;
}

function moveButton(){
  arm();
  const zoneRect = noZone.getBoundingClientRect();
  const btnRect  = noBtn.getBoundingClientRect();
  const padding=10;
  const maxX = zoneRect.width-btnRect.width-padding;
  const maxY = zoneRect.height-btnRect.height-padding;
  const randomX = Math.random()*maxX+padding;
  const randomY = Math.random()*maxY+padding;
  noBtn.style.transition="left .18s ease-out, top .18s ease-out";
  noBtn.style.left=randomX+"px";
  noBtn.style.top=randomY+"px";
}

noZone.addEventListener("pointermove",(e)=>{
  const rect=noBtn.getBoundingClientRect();
  const dist=Math.hypot(
    e.clientX-(rect.left+rect.width/2),
    e.clientY-(rect.top+rect.height/2)
  );
  if(dist<150){ moveButton(); }
});

noBtn.addEventListener("pointerdown",(e)=>{
  e.preventDefault();
  moveButton();
});

</script>
</body>
</html>
